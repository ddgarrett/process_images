google.maps.__gjsload__('visualization_impl', function(_){var Lhb=function(){if(null!==V$)return V$;const a=document.createElement("canvas");return V$=!(!a.getContext||!a.getContext("2d"))},W$=function(a){const b=Array(a);for(var c=0;c<a;++c)b[c]=0;c=Array(a);for(let d=0;d<a;++d)c[d]=b.concat();return c},Mhb=function(a){if(!a||!a.getLength())return 1;const b=new _.Uh;a.forEach(l=>{l&&b.extend(l.location?l.location:l)});const c=b.Ua.lo,d=b.Ia.lo,e=Math.max(b.Ua.hi-c,b.Ia.hi-d);if(1E-9>e){var f=0;a.forEach(l=>{l instanceof _.Tg?++f:f+=l.weight});return Math.max(1,
f)}const g=800/e,h=W$(800);let k=1;a.forEach(l=>{if(l){var m=l.location?l.location:l;l=l.weight||1;m=new _.O(Math.max(0,Math.min(799,Math.floor((m.lat()-c)*g))),Math.max(0,Math.min(799,Math.floor((m.lng()-d)*g))));h[m.x][m.y]+=l;k=Math.max(k,h[m.x][m.y])}});return k},Ohb=function(a,b){const c=[],d=[],e=1E3/(a.length-1);_.bb(a,function(g,h){c.push(h*e);d.push(_.vD(g))});a=Array(1001);let f=0;for(let g=0;1001>g;++g)g>c[f+1]&&++f,a[g]=f<c.length-1?Nhb(e*f,g,e*(f+1),d[f],d[f+1]):d[d.length-1],a[g].alpha*=
b,a[g].alpha=_.pg(Math.floor(255*a[g].alpha),0,255);return a},Nhb=function(a,b,c,d,e){if(a==c)return d;a=(b-a)/(c-a);return new _.uD(Math.floor((e.red-d.red)*a+d.red),Math.floor((e.green-d.green)*a+d.green),Math.floor((e.blue-d.blue)*a+d.blue),(e.alpha-d.alpha)*a+d.alpha)},X$=function(a,b){this.o=a;this.h=b;this.g=1;this.j=[]},Qhb=function(a,b,c){b.ta.textContent="";if(Lhb()){var d=b.ownerDocument,e,f=e=d.createElement("canvas");_.Rn(f);f.width=f.height=256;f=f.getContext("2d");var g=1<a.g;b.ta.appendChild(e);
var h=Phb(a,b);b=a.j;e=Math.floor(b.length/2);var k=h.length,l=k-e,m=W$(k);for(var n=0;n<k;++n){var p=h[n],q=m[n];for(var r=0;r<k;++r){var t=p[r];if(t){var u=r-e,v=Math.min(l,r+e+1);for(let A=Math.max(e,u);A<v;++A)q[A]+=t*b[A-u]}}}h=W$(k-2*e);for(n=0;n<k;++n){p=m[n];q=Math.max(e,n-e);r=Math.min(l,n+e+1);t=n-e;for(let A=e,D=0;A<l;++A,++D)if(u=p[A])for(v=q;v<r;++v)h[v-e][D]+=u*b[v-t]}b=h;e=Math.ceil(256/a.g);e=f.createImageData(e,e);k=a.get("gradient");l=k[k.length-1];c=k.length/c;m=e.data;h=0;for(let A=
0,D=b.length;A<D;++A){n=b[A];for(let G=0,I=n.length;G<I;++G)(p=n[G])||k[0].alpha?(p=k[Math.floor(p*c)]||l,m[h++]=p.red,m[h++]=p.green,m[h++]=p.blue,m[h++]=p.alpha):h+=4}g?(d=d.createElement("canvas"),d.width=d.height=256/a.g,d.getContext("2d").putImageData(e,0,0),f.scale(a.g,a.g),f.drawImage(d,0,0)):f.putImageData(e,0,0)}},Phb=function(a,b){var c=a.get("projection");c=_.yn(c);var d=a.get("radius");d=Math.round(d/a.g)*a.g;var e=b.Jf,f=(256+2*d)/a.g,g=W$(f),h;for(h in e){var k=e[h],l=c.fromLatLngToPoint(new _.Tg(k.wa,
k.oa,!0)),m=c.fromLatLngToPoint(new _.Tg(k.Aa,k.ya,!0)),n=null;n=_.Fo(a.h,new _.Yi(l.x,l.y),b.zoom,function(u){return u});m=_.Fo(a.h,new _.Yi(m.x,m.y),b.zoom,function(u){return u});l=d/256;n=_.Eo(a.h,{la:Math.min(n.la,m.la)+l,na:Math.min(n.na,m.na)+l,xa:b.zoom});n=new _.O(n.g,n.h);k=a.o.search(k);m=0;for(l=k.length;m<l;++m){var p=k[m],q=c.fromLatLngToPoint(new _.Tg(p.Xa.x,p.Xa.y)),r=0,t=0;q=_.Moa(a.h,new _.Yi(q.x,q.y),new _.Yi(n.x,n.y),b.zoom);r=Math.floor(256*q.la);t=Math.floor(256*q.na);q=Math.floor((t+
d)/a.g);r=Math.floor((r+d)/a.g);0<=q&&q<f&&0<=r&&r<f&&(g[q][r]+=p.weight)}}return g},Thb=function(a){a.j.clear();const b=a.get("data");b&&(b.forEach(c=>{c&&_.fD(a.j,Y$(c))}),a.H.zc());Z$(a);for(const c of a.J)_.nh(c);a.J=b?[b.addListener("insert_at",c=>Rhb(a,c)),b.addListener("remove_at",(c,d)=>Shb(a,d)),b.addListener("set_at",(c,d)=>{Shb(a,d);Rhb(a,c)})]:[]},Uhb=function(a,b){var c={la:b.Va.x,na:b.Va.y,xa:b.zoom};const d=a.get("radius"),e=_.yn(a.get("projection"));var f=_.Eo(a.C,c);f=new _.O(f.g,
f.h);const {min:g,max:h}=_.Ow(a.C,c,d/256);c=_.Qi(g.g,g.h,h.g,h.h);_.$ua(c,e,f,k=>{k.g=b;b.Jf[_.xh(k)]=k;_.cD(a.D,k)})},$$=function(a){const b=a.get("maxIntensity");return 1<=b?b:Mhb(a.get("data"))},Z$=function(a){for(const b in a.g)a.g.hasOwnProperty(b)&&_.kj(a.G,a.g[b])},Rhb=function(a,b){if(b=a.get("data").getAt(b))b=Y$(b),_.fD(a.j,b),a.H.zc(),Vhb(a,b.Xa)},Shb=function(a,b){b&&(b=Y$(b),a.j.remove(b),a.H.zc(),Vhb(a,b.Xa))},Vhb=function(a,b){b=_.Yua(a.D,b);for(const c of b)_.kj(a.G,c.g)},Y$=function(a){const b=
a.location?a.location:a;a=a.weight||1;return{Xa:new _.O(b.lat(),b.lng()),weight:a}},Zhb=function(a){var b=a.j;const c=a.j=a.get("map");b&&(a.g&&(a.g.unbindAll(),a.g=null),a.h&&(a.h.release(),a.h=null));if(c){a.g=new _.cq({dissipating:!0,gradient:Whb,opacity:.6,radius:10});a.g.bindTo("dissipating",a);a.g.bindTo("gradient",a);a.g.bindTo("opacity",a);a.g.bindTo("radius",a);const d=new _.EC(["stringGradient","opacity"],"colorGradient",(n,p)=>Ohb(n,p));d.bindTo("stringGradient",a.g,"gradient",!0);const e=
new _.EC(["radius","dissipating","zoom"],"renderingRadius",(n,p,q)=>p?n:Math.min(Math.round(n*Math.pow(2,q)),256));e.bindTo("radius",a.g);e.bindTo("zoom",c);e.bindTo("dissipating",a.g);const f=(n,p)=>{new Xhb(n,p)};b=c.__gm;let g=void 0,h=null;function k(){h&&h.unbindAll();h=new Yhb(f,g);c&&h.bindTo("projection",c);h.bindTo("data",a);h.bindTo("maxIntensity",a);h.bindTo("gradient",d,"colorGradient");h.bindTo("radius",e,"renderingRadius");a.g&&(h.bindTo("opacity",a.g),d.set("opacity",1))}k();const l=
h.Uc(),m=_.vi(l);b.h.then(({rh:n})=>{_.pm(n,p=>{p&&g!=p.cb&&(g=p.cb,k(),m.set(h.Uc()))})});_.mD(c,m,"overlayLayer",15,{br:n=>{a.h&&a.h.release();a.h=n}});_.N(c,"Lh");_.M(c,148268)}},V$=null,Whb="rgba(102, 255, 0, 0);rgba(102, 255, 0, 1);rgba(147, 255, 0, 1);rgba(193, 255, 0, 1);rgba(238, 255, 0, 1);rgba(244, 227, 0, 1);rgba(249, 198, 0, 1);rgba(255, 170, 0, 1);rgba(255, 113, 0, 1);rgba(255, 57, 0, 1);rgba(255, 0, 0, 1)".split(";");_.y(X$,_.L);X$.prototype.radius_changed=function(){var a=this.get("radius");Lhb()?this.g=20>a?1:2:this.g=4;a=Math.round(a/this.g);var b=a/3;const c=[];for(let d=-a;d<=a;d++)c.push(Math.exp(-d*d/(2*b*b)));this.j=c};var Yhb=class extends _.kk{constructor(a,b=_.xs){super();this.C=b;this.F=new _.oi(256,256);this.g={};b=_.Qi(-100,-300,100,300);this.D=new _.bD(b);b=_.Qi(-90,-180,90,180);this.j=_.Zua(b,(c,d)=>c.Xa.equals(d.Xa)&&c.weight==d.weight);this.J=[];this.G=new _.jj;this.h=0;this.o=new X$(this.j,this.C);this.o.bindTo("projection",this,"projection",!0);this.o.bindTo("gradient",this,"gradient",!0);this.o.bindTo("radius",this,"radius",!0);a(this.G,c=>Qhb(this.o,c,this.h));this.H=new _.ij(()=>{const c=this.h;this.h=
$$(this);_.rg(c,this.h)||Z$(this)},0);this.addListener("data_changed",()=>Thb(this));this.addListener("maxintensity_changed",()=>{this.h=$$(this);Z$(this)});this.addListener("gradient_changed",()=>{Z$(this)});this.addListener("opacity_changed",()=>{const c=this.get("opacity");for(const d in this.g)this.g.hasOwnProperty(d)&&_.Mx(this.g[d].ta,c)});this.addListener("radius_changed",()=>{for(const c in this.g)if(this.g.hasOwnProperty(c)){const d=this.g[c],e=d.Jf;for(const f in e)e.hasOwnProperty(f)&&
this.D.remove(e[f]);d.Jf={};Uhb(this,d)}Z$(this)});this.triggersTileLoadEvent=!0}Uc(){return{tileSize:{ca:this.F.width,ea:this.F.height},cb:this.C,ed:2,Qc:this.M.bind(this)}}M(a,{ac:b}={}){const c=document.createElement("div");_.wj(c,this.F);const d=this.get("opacity");void 0!==d&&_.Mx(c,d);const e={ta:c,zoom:a.xa,Va:new _.O(a.la,a.na),Jf:{},ownerDocument:document};c.nc=e;this.g[_.xh(e)]=e;Uhb(this,e);this.h||(this.h=$$(this));Qhb(this.o,e,this.h);let f=!1;a=Promise.resolve();a.then(()=>{f=!0});return{ob:()=>
c,Od:()=>f,loaded:a,release:()=>{c.textContent="";delete this.g[_.xh(e)];b&&b()}}}releaseTile(a){if(a){var b=a.nc;a.nc=null;delete this.g[_.xh(b)];a=this.D;for(const c in b.Jf)b.Jf.hasOwnProperty(c)&&a.remove(b.Jf[c]);b.ta.textContent=""}}};var Xhb=class{constructor(a,b){var c=new _.Ova(_.tua(250));this.g=a;a.g=(0,_.la)(this.h,this);this.o=b;this.C=c}h(){_.wC(this.C,(0,_.la)(this.j,this))}j(){a:{var a=this.g.h;for(var b in a){a=a[b];this.g.remove(a);break a}a=null}a&&this.o(a)}};var $hb=class{mt(a){Zhb(a)}};_.fh("visualization_impl",new $hb);});
